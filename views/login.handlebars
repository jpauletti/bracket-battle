<h1 class="text-center mt-5">Login</h1>

<form class="mt-5">
  <div style="display: none;" class="login-error">
    <p style="font-weight: bold; color: red;">Incorrect Username or password. Try again.</p>
  </div>
  <div class="form-group">
    <label for="username">Username</label>
    <input type="text" class="form-control" id="username"
      placeholder="Enter username">
  </div>
  <div class="form-group">
    <label for="pass">Password</label>
    <input type="password" class="form-control" id="pass" placeholder="Password">
  </div>
  
  <button type="submit" id="login" class="btn btn-primary">Submit</button>
</form>

<div class="row mt-4 justify-content-center">
  <div class="co-md-12">
    Don't have an account yet? <a href="/signup">Sign Up</a> here.
  </div>
</div>

<script>
  $("#login").on("click", function (event) {
    event.preventDefault();
    var user = $("#username").val().trim();
    var pass = $("#pass").val().trim();

    $.ajax({
      method: "POST",
      url: "/login",
      data: { username: user, password: pass }
    }).then(function(data) {
      if (!data) {
        //show error message - not a valid user
        $(".login-error").css("display", "block");
      } else {
        window.location.replace("/dashboard");
      }
    })
  });
</script>